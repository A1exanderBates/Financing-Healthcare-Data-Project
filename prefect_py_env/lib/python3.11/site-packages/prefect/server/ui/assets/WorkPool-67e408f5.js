import{d as $,_ as U,a as V,bI as D,R as E,c as t,T as J,b as S,aE as Y,f as s,g as i,w as a,h as d,o as m,j as l,u as e,bJ as j,bK as w,aJ as q,bL as z,bM as A,p as F}from"./index-02a86edf.js";import{u as I}from"./usePageTitle-e7da3c26.js";const O=$({__name:"WorkPool",setup(K){const f=U(),r=V("workPoolName"),_=D(),b={interval:3e5},p=E(f.workPools.getWorkPoolByName,[r.value],b),o=t(()=>p.response),u=t(()=>{var n;return((n=o.value)==null?void 0:n.type)==="prefect-agent"}),v=t(()=>[{label:"Details",hidden:J.xl},{label:"Runs"},{label:"Work Queues"},{label:"Workers",hidden:!_.access.workers||u.value}]),{tab:c,tabs:P}=S(v),g=t(()=>o.value?`Your work pool ${o.value.name} is ready to go!`:"Your work pool is ready to go!"),y=t(()=>{var n;return`prefect ${u.value?"agent":"worker"} start --pool ${(n=o.value)==null?void 0:n.name}`}),B=t(()=>`Work pools organize work that ${u.value?"Prefect agents":"Prefect workers"} can pull from.`),{filter:C}=Y({workPools:{name:[r.value]}}),R=t(()=>o.value?`Work Pool: ${o.value.name}`:"Work Pool");return I(R),(n,k)=>{const W=s("CodeBanner"),h=s("p-tabs"),T=s("p-layout-well"),x=s("p-layout-default");return o.value?(m(),i(x,{key:0},{header:a(()=>[l(e(j),{"work-pool":o.value,onUpdate:e(p).refresh},null,8,["work-pool","onUpdate"])]),default:a(()=>[o.value?(m(),i(T,{key:0,class:"work-pool"},{header:a(()=>[l(W,{command:y.value,title:g.value,subtitle:B.value},null,8,["command","title","subtitle"])]),well:a(()=>[l(e(w),{alternate:"","work-pool":o.value},null,8,["work-pool"])]),default:a(()=>[l(h,{selected:e(c),"onUpdate:selected":k[0]||(k[0]=N=>F(c)?c.value=N:null),tabs:e(P)},{details:a(()=>[l(e(w),{"work-pool":o.value},null,8,["work-pool"])]),runs:a(()=>[l(e(q),{"flow-run-filter":e(C)},null,8,["flow-run-filter"])]),"work-queues":a(()=>[l(e(z),{"work-pool-name":e(r)},null,8,["work-pool-name"])]),workers:a(()=>[l(e(A),{"work-pool-name":e(r)},null,8,["work-pool-name"])]),_:1},8,["selected","tabs"])]),_:1})):d("",!0)]),_:1})):d("",!0)}}});export{O as default};
