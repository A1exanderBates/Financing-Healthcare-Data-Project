import{d as R,aC as x,A as b,c as l,x as C,z as D,O as v,o as n,i as g,I as B,j as o,u as s,aD as T,J as E,p as H,D as N,L as O,_ as V,a as z,P as J,R as P,aE as $,aF as j,f as F,g as i,w as a,aG as q,h as w,aH as A,aI as G,aJ as L,a9 as M}from"./index-02a86edf.js";import{s as U,a as K}from"./index-d6eb1d44.js";import{u as Q}from"./usePageTitle-e7da3c26.js";const W={class:"flow-stats"},X={class:"flow-stats__cards"},Y=R({__name:"FlowStats",props:{flowId:{}},setup(_){const c=_,{flowId:u}=x(c),t=b("span",O,K*24),r=l(()=>({flowId:u.value,timeSpanInSeconds:t.value}));C(D,{interval:U(30)});const f=l(()=>v.map("FlowStatsFilter",r.value,"FlowRunsFilter")),d=l(()=>v.map("FlowStatsFilter",r.value,"TaskRunsFilter"));return(m,e)=>(n(),g("div",W,[B("div",X,[o(s(T),{filter:f.value},null,8,["filter"]),o(s(E),{filter:d.value},null,8,["filter"])]),o(s(N),{selected:s(t),"onUpdate:selected":e[0]||(e[0]=p=>H(t)?t.value=p:null),size:"sm"},null,8,["selected"])]))}});const oe=R({__name:"Flow",setup(_){const c=V(),u=z("flowId"),t=l(()=>[u.value]),r=J(),f=["Runs","Deployments","Details"],d={interval:3e5},m=P(c.flows.getFlow,[u.value],d),e=l(()=>m.response),{filter:p}=$({flows:{id:t}}),{filter:y}=j({flows:{id:t}});function I(){r.push(M.flows())}const S=l(()=>e.value?`Flow: ${e.value.name}`:"Flow");return Q(S),(Z,ee)=>{const k=F("p-tabs"),h=F("p-layout-default");return n(),i(h,{class:"flow"},{header:a(()=>[e.value?(n(),i(s(q),{key:0,flow:e.value,onDelete:I},null,8,["flow"])):w("",!0)]),default:a(()=>[e.value?(n(),i(Y,{key:0,"flow-id":e.value.id},null,8,["flow-id"])):w("",!0),o(k,{tabs:f},{details:a(()=>[e.value?(n(),i(s(A),{key:0,flow:e.value},null,8,["flow"])):w("",!0)]),deployments:a(()=>[o(s(G),{filter:s(y)},null,8,["filter"])]),runs:a(()=>[o(s(L),{"flow-run-filter":s(p)},null,8,["flow-run-filter"])]),_:1})]),_:1})}}});export{oe as default};
